-- [[ Switch Hub - Fly Module with Toggle GUI ]]
local player = game:GetService("Players").LocalPlayer
local flying = false
local speed = 50
local bg, bv

-- Tạo GUI đơn giản
local screenGui = Instance.new("ScreenGui", player.PlayerGui)
screenGui.Name = "FlyGui"

local toggleBtn = Instance.new("TextButton", screenGui)
toggleBtn.Size = UDim2.new(0, 100, 0, 50)
toggleBtn.Position = UDim2.new(0.5, -50, 0.8, 0)
toggleBtn.BackgroundColor3 = Color3.fromRGB(68, 202, 186)
toggleBtn.Text = "Fly: OFF"
toggleBtn.TextColor3 = Color3.new(1, 1, 1)
toggleBtn.Draggable = true -- Bạn có thể kéo nút này đi quanh màn hình

local function toggleFly()
    flying = not flying
    if flying then
        toggleBtn.Text = "Fly: ON"
        toggleBtn.BackgroundColor3 = Color3.fromRGB(255, 100, 100)
        
        -- Khởi tạo Body Movers
        bg = Instance.new("BodyGyro", player.Character.HumanoidRootPart)
        bv = Instance.new("BodyVelocity", player.Character.HumanoidRootPart)
        bg.P = 9e4
        bg.maxTorque = Vector3.new(9e9, 9e9, 9e9)
        bv.maxForce = Vector3.new(9e9, 9e9, 9e9)
        
        task.spawn(function()
            while flying do
                task.wait()
                player.Character.Humanoid.PlatformStand = true
                bv.velocity = (workspace.CurrentCamera.CFrame.LookVector * speed)
                bg.cframe = workspace.CurrentCamera.CFrame
            end
            if bg then bg:Destroy() end
            if bv then bv:Destroy() end
            player.Character.Humanoid.PlatformStand = false
        end)
    else
        toggleBtn.Text = "Fly: OFF"
        toggleBtn.BackgroundColor3 = Color3.fromRGB(68, 202, 186)
    end
end

toggleBtn.MouseButton1Click:Connect(toggleFly)
print("✈️ GUI Fly đã sẵn sàng!")
return true
